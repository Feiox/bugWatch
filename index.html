<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>bug watch - 脚本错误</title>
    <style>
        .chart-wrap {
            display: inline-block;
        }
        #page-top {
            position: absolute;
            right: 30px;
        }
    </style>
</head>

<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:400px"></div>
    <div id="main-top" class="chart-wrap" style="height:400px;width:800px;"></div>
    <div id="page-top" class="chart-wrap" style="height:400px;width:800px;"></div>
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    <script type="text/javascript">
        // 路径配置
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/line' // 使用柱状图就加载bar模块，按需加载
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main'));

                var option = {
                    title: {
                        text: 'bug对比图',
                        subtext: '今天和昨天'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data: ['昨天', '今天']
                    },
                    toolbox: {
                        show: true,
                        feature: {
                            mark: { show: true },
                            dataView: { show: true, readOnly: false },
                            magicType: { show: true, type: ['line', 'bar'] },
                            restore: { show: true },
                            saveAsImage: { show: true }
                        }
                    },
                    calculable: true,
                    xAxis: [
                        {
                            type: 'category',
                            boundaryGap: false,
                            data: ['8am', '9am', '10am', '11am', '12am', '1pm', '2pm']
                        }
                    ],
                    yAxis: [
                        {
                            type: 'value',
                            axisLabel: {
                                formatter: '{value} °C'
                            }
                        }
                    ],
                    series: [
                        {
                            name: '昨天',
                            type: 'line',
                            data: [1, 2, 2, 5, 3, 2, 0],
                            markPoint: {
                                data: [
                                    { type: 'max', name: '最大值' },
                                    { type: 'min', name: '最小值' }
                                ]
                            },
                            markLine: {
                                data: [
                                    { type: 'average', name: '平均值' }
                                ]
                            }
                        },
                        {
                            name: '今天',
                            type: 'line',
                            data: [11, 11, 15, 13, 12, 13, 10],
                            markPoint: {
                                data: [
                                    { name: '周最低', value: -2, xAxis: 1, yAxis: -1.5 }
                                ]
                            },
                            markLine: {
                                data: [
                                    { type: 'average', name: '平均值' }
                                ]
                            }
                        }
                    ]
                };


                // 为echarts对象加载数据 
                myChart.setOption(option);
            }
        );
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/bar' // 使用柱状图就加载bar模块，按需加载
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChartTop = ec.init(document.getElementById('main-top'));
                var  option = {
                    title: {
                        text: 'bugTop排行榜',
                        subtext: 'bug类型'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data: ['bug类型']
                    },
                    toolbox: {
                        show: true,
                        feature: {
                            mark: { show: true },
                            dataView: { show: true, readOnly: false },
                            magicType: { show: true, type: ['line', 'bar'] },
                            restore: { show: true },
                            saveAsImage: { show: true }
                        }
                    },
                    calculable: true,
                    xAxis: [
                        {
                            type: 'category',
                            data: ['global Core', 'undefined变量', 'xx', '引用错误', 'Unexpected token',  'TypeError',  'SyntaxError']
                        }
                    ],
                    yAxis: [
                        {
                            type: 'value'
                        }
                    ],
                    series: [
                        {
                            name: '次数',
                            type: 'bar',
                            data: [500,  135.6, 76.7, 32.6, 20.0],
                            markPoint: {
                                data: [
                                    { type: 'max', name: '最大值' }
                                ]
                            },
                            markLine: {
                                data: [
                                    { type: 'average', name: '平均值' }
                                ]
                            }
                        }
                    ]
                };
                // 为echarts对象加载数据 
                myChartTop.setOption(option);
            });
         // 使用
        require(
            [
                'echarts',
                'echarts/chart/bar' // 使用柱状图就加载bar模块，按需加载
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var pageTopChat = ec.init(document.getElementById('page-top'));
                var  option = {
                    title: {
                        text: 'bug页面排行榜',
                        subtext: '页面'
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        data: ['页面']
                    },
               
                    toolbox: {
                        show: true,
                        feature: {
                            mark: { show: true },
                            dataView: { show: true, readOnly: false },
                            magicType: { show: true, type: ['line', 'bar'] },
                            restore: { show: true },
                            saveAsImage: { show: true }
                        }
                    },
                    calculable: true,
                    xAxis: [
                        {
                            type: 'category',
                            data: ['index', 'login', 'repayment', 'register', 'auth']
                        }
                    ],
                    yAxis: [
                        {
                            type: 'value'
                        }
                    ],
                    series: [
                        {
                            name: 'bug次数',
                            type: 'bar',
                            data: [450, 320, 300, 200, 100],
                            markPoint: {
                                data: [
                                    { type: 'max', name: '最大值' }
                                ]
                            },
                            markLine: {
                                data: [
                                    { type: 'average', name: '平均值' }
                                ]
                            }
                        }
                    ]
                };
                // 为echarts对象加载数据 
                pageTopChat.setOption(option);
            });
        
    </script>
    </script>
</body>

</html>